import{B as h}from"./Back-DPqJhWKa.js";import{_ as w,c as t,a as r,w as f,b as v,d as i,v as m,t as d,e as p,o as n,r as g}from"./index-B0CyqVYp.js";const y={name:"Signup",components:{Back:h},data(){return{name:"",password:"",confirmPassword:"",errorName:"",errorPassword:"",errorMessage:""}},methods:{async submitForm(){if(this.errorName=this.name?"":"Seu nome de usuário deve ter pelo menos uma letra",this.errorPassword=this.password?this.password!==this.confirmPassword?"As senhas não são as mesmas":"":"Sua senha deve ter pelo menos digito",this.errorName||this.errorPassword)return;const l=JSON.stringify({name:this.name,password:this.password});try{const s=await fetch("http://localhost:5000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:l});if(s.ok){const a=await s.json();this.errorMessage="",this.$router.push("/login")}else{const a=await s.json();this.errorMessage=a.error||"Erro ao registrar usuário."}}catch(s){this.errorMessage="Erro na comunicação com o servidor.",console.error("Erro:",s)}}}},N={class:"signup-page"},_={class:"container"},b={class:"input-name"},P={key:0,class:"error"},S={key:1,class:"error"},k={class:"input-password"},M={key:2,class:"error"},B={class:"input-confirm-password"};function V(l,s,a,x,e,u){const c=g("Back");return n(),t("div",N,[r("div",_,[r("form",{class:"interface",onSubmit:s[3]||(s[3]=f((...o)=>u.submitForm&&u.submitForm(...o),["prevent"]))},[v(c),s[7]||(s[7]=r("h1",null,"Faça seu sign up",-1)),r("div",b,[s[4]||(s[4]=r("h3",null,"Nome",-1)),i(r("input",{class:"name",type:"text",placeholder:"Insira seu nome de usuário","onUpdate:modelValue":s[0]||(s[0]=o=>e.name=o)},null,512),[[m,e.name]])]),e.errorName?(n(),t("div",P,d(e.errorName),1)):p("",!0),e.errorMessage&&!e.errorName?(n(),t("div",S,d(e.errorMessage),1)):p("",!0),r("div",k,[s[5]||(s[5]=r("h3",null,"Senha",-1)),i(r("input",{class:"password",type:"password",placeholder:"Insira sua senha","onUpdate:modelValue":s[1]||(s[1]=o=>e.password=o)},null,512),[[m,e.password]])]),e.errorPassword?(n(),t("div",M,d(e.errorPassword),1)):p("",!0),r("div",B,[s[6]||(s[6]=r("h3",null,"Confirmar senha",-1)),i(r("input",{class:"confirm-password",type:"password",placeholder:"Insira sua senha novamente","onUpdate:modelValue":s[2]||(s[2]=o=>e.confirmPassword=o)},null,512),[[m,e.confirmPassword]])]),s[8]||(s[8]=r("div",{class:"input-submit"},[r("input",{class:"submit",type:"submit",value:"Fazer Sign up"})],-1))],32)])])}const E=w(y,[["render",V],["__scopeId","data-v-8c4c7ab3"]]);export{E as default};
